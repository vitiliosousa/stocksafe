TELA 31: HIST√ìRICO DE MOVIMENTA√á√ïES
Rota: /estoque/movimentacoes
Acesso: Sidebar ‚Üí Estoque ‚Üí Movimenta√ß√µes
Estrutura:
Cabe√ßalho:

T√≠tulo: "Movimenta√ß√µes de Estoque"
Subt√≠tulo: "Hist√≥rico completo de entradas, sa√≠das e transfer√™ncias"

Filtros:
Linha 1:

Date Range (destaque)

De: [date picker]
At√©: [date picker]
Atalhos: Hoje | √öltimos 7 dias | √öltimos 30 dias | Este M√™s | M√™s Passado | Personalizado


Tipo de Movimenta√ß√£o (dropdown multi-select)

Todas
üì• Entrada (Recebimento)
üì§ Sa√≠da (Expedi√ß√£o)
üîÑ Transfer√™ncia Interna
‚ûï Ajuste Positivo (Invent√°rio)
‚ûñ Ajuste Negativo (Invent√°rio)
üóëÔ∏è Descarte
‚Ü©Ô∏è Devolu√ß√£o ao Fornecedor
üîô Devolu√ß√£o de Cliente



Linha 2:

Produto (autocomplete searchable)

Busca por SKU ou descri√ß√£o
Permite m√∫ltiplos produtos


Lote (input text)

Busca por c√≥digo de lote


Local (tree select)

Origem OU Destino
Hierarquia completa



Linha 3:

Usu√°rio (dropdown searchable)

Todos os usu√°rios
Filtro: quem executou a movimenta√ß√£o


Status (dropdown)

Todos | Conclu√≠da | Pendente | Cancelada


Motivo (dropdown)

Todos | Venda | Transfer√™ncia | Ajuste | Invent√°rio | Devolu√ß√£o | Descarte | Outro



Bot√µes:

"Limpar Filtros"
"Exportar" (XLSX/CSV/PDF)
"+ Registrar Movimenta√ß√£o Manual"


Cards de KPIs:
Card 1: Total de Movimenta√ß√µes (per√≠odo selecionado)

 movimenta√ß√µes
Compara√ß√£o vs per√≠odo anterior: ‚ñ≤ +15% ou ‚ñº -5%

Card 2: Entradas

üì• [X] movimenta√ß√µes
Qtd Total: [Y] unidades
Valor: R$ [Z]

Card 3: Sa√≠das

üì§ [X] movimenta√ß√µes
Qtd Total: [Y] unidades
Valor: R$ [Z]

Card 4: Saldo L√≠quido (per√≠odo)

Entradas - Sa√≠das = [¬±X] unidades
Visual: verde se positivo, vermelho se negativo


Gr√°ficos (acima da tabela):
Gr√°fico 1: Evolu√ß√£o Temporal (linha)

Eixo X: Data
Eixo Y: Quantidade
2 linhas:

Verde: Entradas
Vermelho: Sa√≠das


Permite zoom/pan
Tooltip com detalhes ao hover

Gr√°fico 2: Distribui√ß√£o por Tipo (pizza/donut)

Fatias: cada tipo de movimenta√ß√£o
% e valor absoluto
Clic√°vel: aplica filtro por tipo


Tabela Principal:
Colunas:

Data/Hora (140px)

DD/MM/AAAA HH:MM
Ordena√ß√£o default: mais recente primeiro
Agrupamento visual por dia (separador)


Tipo (120px)

√çcone + texto:

üì• Entrada
üì§ Sa√≠da
üîÑ Transfer√™ncia
‚ûï Ajuste+
‚ûñ Ajuste-
üóëÔ∏è Descarte
‚Ü©Ô∏è Devolu√ß√£o Fornecedor
üîô Devolu√ß√£o Cliente


Badge colorido por tipo


Produto (250px)

SKU (pequeno, mono)
Descri√ß√£o (truncada)
Categoria (badge)
Clic√°vel: filtra por produto


Lote (120px)

C√≥digo do lote (mono)
Se n√£o tem lote: "-" ou "N/A"


Validade (100px)

DD/MM/AAAA
Se n√£o tem: "-"
Badge de alerta se pr√≥ximo ao vencimento


Quantidade (100px)

N√∫mero (grande)
Sinal: + para entradas, - para sa√≠das
Cores: verde (+) | vermelho (-)
Unidade (pequeno)


De > Para (250px)

Se Entrada:

De: Fornecedor/Origem
Para: [Local destino]


Se Sa√≠da:

De: [Local origem]
Para: Cliente/Destino


Se Transfer√™ncia:

De: [Local A]
Para: [Local B]


Se Ajuste:

De/Para: [Local]


Visual: seta ‚Üí entre origem e destino


Motivo (150px)

Texto curto
Tooltip com motivo completo
Exemplos: "Venda", "Invent√°rio", "Ajuste por perda", "Transfer√™ncia interna"


Usu√°rio (120px)

Nome do usu√°rio que executou
Avatar pequeno
Tooltip com cargo


Documento (120px)

Tipo e n√∫mero:

PO #12345
Ordem #456
INV #789
Manual


Link clic√°vel para o documento


Valor Unit. (100px)

R$ [pre√ßo]
Se aplic√°vel


Valor Total (120px)

R$ [qtd √ó pre√ßo]
Destacado


Status (100px)

Badge:

‚úÖ Conclu√≠da
üîÑ Em Andamento
‚ùå Cancelada
‚è≥ Pendente




A√ß√µes (80px)

Bot√£o "..." (dropdown):

üìã Ver Detalhes
üìÑ Imprimir Comprovante
‚Ü©Ô∏è Estornar (se permitido)
üìù Adicionar Observa√ß√£o
üóëÔ∏è Cancelar (se pendente)





Funcionalidades da Tabela:

Agrupamento: Por dia automaticamente

Subtotal por dia (qtd e valor)


Ordena√ß√£o: Por qualquer coluna
Filtro inline: Em cada coluna (campo de busca no header)
Pagina√ß√£o: 50/100/200/Todos
Exporta√ß√£o: Sele√ß√£o de colunas vis√≠veis
Totaliza√ß√£o no rodap√©:

Total de Movimenta√ß√µes: [X]
Entradas: +[Y] | Sa√≠das: -[Z]
Saldo: [Y-Z]
Valor Total Movimentado: R$ [W]



Destaque Visual:

Linha verde clara: entradas/ajuste+
Linha vermelha clara: sa√≠das/ajuste-/descarte
Linha azul clara: transfer√™ncias
Linha cinza: canceladas


Modal: Detalhes da Movimenta√ß√£o (ao clicar em linha)
Estrutura:
Card: Informa√ß√µes Gerais

C√≥digo da Movimenta√ß√£o: MOV-[n√∫mero]
Tipo: [badge grande]
Data/Hora: [timestamp completo]
Status: [badge]
Usu√°rio Respons√°vel: [nome + avatar + cargo]

Card: Produto

SKU + Descri√ß√£o completa
Imagem (se houver)
Categoria
Lote: [c√≥digo]
Validade: [data] ([X] dias para vencer)

Card: Movimenta√ß√£o

Quantidade: [n√∫mero grande] [unidade]

Visual: sinal + ou - com cor


Origem:

Tipo: Fornecedor/Local/Cliente/Outro
Nome/Descri√ß√£o completa
Endere√ßo (se aplic√°vel)


Destino:

Tipo: Local/Cliente/Outro
Nome/Descri√ß√£o completa
Endere√ßo (se aplic√°vel)



Card: Valores

Valor Unit√°rio: R$ [X]
Valor Total: R$ [Y]
Custo M√©dio (se entrada): R$ [Z]

Card: Rastreabilidade

Documento Origem:

Tipo: PO/Ordem/Invent√°rio/Manual
N√∫mero: [link clic√°vel]
Data do documento


Movimenta√ß√£o Anterior (deste lote):

Link para movimenta√ß√£o anterior


Movimenta√ß√£o Seguinte (deste lote):

Link para pr√≥xima movimenta√ß√£o



Card: Justificativa e Observa√ß√µes

Motivo: [texto]
Observa√ß√µes: [textarea]
Anexos: [lista de arquivos] (se houver)

Card: Impacto no Estoque

Saldo Antes: [X] unidades
Movimenta√ß√£o: [¬±Y] unidades
Saldo Depois: [X¬±Y] unidades
Local: [nome completo]

Card: Auditoria

Criado por: [usu√°rio] em [data/hora]
Modificado por: [usu√°rio] em [data/hora] (se aplic√°vel)
Aprovado por: [usu√°rio] em [data/hora] (se precisou aprova√ß√£o)
IP de origem: [IP]

Bot√µes no Modal:

Imprimir Comprovante
Estornar Movimenta√ß√£o (se permitido)

Confirma√ß√£o cr√≠tica
Gera movimenta√ß√£o reversa


Adicionar Observa√ß√£o
Cancelar Movimenta√ß√£o (se pendente)
Fechar


TELA 32: REGISTRAR MOVIMENTA√á√ÉO MANUAL
Rota: /estoque/movimentacoes/nova
Acesso:

Bot√£o "+ Registrar Movimenta√ß√£o Manual" na lista
Atalho no dashboard

Estrutura:
Cabe√ßalho:

Breadcrumb: Home / Estoque / Movimenta√ß√µes / Nova Movimenta√ß√£o
T√≠tulo: "Registrar Movimenta√ß√£o Manual"
Subt√≠tulo: "Use esta tela para ajustes, corre√ß√µes e movimenta√ß√µes n√£o autom√°ticas"

Card: Tipo de Movimenta√ß√£o
Radio buttons grandes (visual destacado):
Op√ß√£o 1: üì• Entrada Manual

Descri√ß√£o: "Adicionar produtos ao estoque (compra direta, doa√ß√£o, etc.)"
Casos de uso: "Compra sem PO, doa√ß√£o, encontrado, produ√ß√£o interna"

Op√ß√£o 2: üì§ Sa√≠da Manual

Descri√ß√£o: "Remover produtos do estoque (venda direta, uso interno, etc.)"
Casos de uso: "Venda sem ordem, uso interno, amostra gr√°tis, consumo"

Op√ß√£o 3: üîÑ Transfer√™ncia Interna

Descri√ß√£o: "Mover produtos entre locais (sem entrada/sa√≠da do estoque)"
Casos de uso: "Reorganiza√ß√£o, reposi√ß√£o entre zonas"

Op√ß√£o 4: ‚ûï Ajuste Positivo

Descri√ß√£o: "Corre√ß√£o de estoque para mais (invent√°rio encontrou mais)"
Casos de uso: "Invent√°rio, erro de lan√ßamento anterior"

Op√ß√£o 5: ‚ûñ Ajuste Negativo

Descri√ß√£o: "Corre√ß√£o de estoque para menos (perda, quebra, roubo)"
Casos de uso: "Invent√°rio, perda, quebra, vencimento, avaria"

Op√ß√£o 6: üóëÔ∏è Descarte

Descri√ß√£o: "Descarte de produtos (vencimento, avaria, contamina√ß√£o)"
Casos de uso: "Vencido, avariado, contaminado, recall"
Nota: "Requer aprova√ß√£o e laudo"

Op√ß√£o 7: ‚Ü©Ô∏è Devolu√ß√£o ao Fornecedor

Descri√ß√£o: "Devolu√ß√£o de produtos j√° recebidos"
Casos de uso: "NC, recall, acordo comercial"

Card: Dados do Produto
Campos:

**Produto *** (autocomplete searchable grande)

Busca por SKU ou descri√ß√£o
Mostra: Thumbnail | SKU | Descri√ß√£o | Categoria | Estoque Atual
Ao selecionar:

Preenche informa√ß√µes do produto (read-only):

Categoria
Unidade de medida
Vida √∫til (se cadastrada)
Controle por lote? (Sim/N√£o)


Se tem controle de lote: campos Lote/Validade tornam-se obrigat√≥rios




**Quantidade *** (input number grande)

Placeholder: "Ex: 100"
Valida√ß√£o:

Obrigat√≥rio
Deve ser > 0
Se SA√çDA ou AJUSTE-: n√£o pode exceder estoque dispon√≠vel no local selecionado


Sufixo: [unidade] (auto-preenchido)
Helper: "Estoque atual: [X] unidades" (se sa√≠da/ajuste-)


Lote (condicional - obrigat√≥rio se produto tem controle)

Se ENTRADA/AJUSTE+:

Input text: "Digite o lote"
Permite criar novo lote


Se SA√çDA/AJUSTE-/TRANSFER√äNCIA:

Dropdown searchable: lista lotes dispon√≠veis deste produto
Mostra: Lote | Validade | Qtd Dispon√≠vel | Local
Valida√ß√£o: qtd n√£o pode exceder dispon√≠vel no lote


Placeholder: "Ex: L2025-001"


Validade (condicional - obrigat√≥rio se produto tem controle)

Se ENTRADA/AJUSTE+:

Date picker: "Data de vencimento"
Valida√ß√£o: deve ser futura
Calcula e mostra: dias at√© vencer, % vida √∫til
Alerta se < validade m√≠nima aceit√°vel


Se SA√çDA/AJUSTE-/TRANSFER√äNCIA:

Read-only (vem do lote selecionado)





Card: Origem e Destino (varia conforme tipo)
Se ENTRADA:

**Origem *** (radio buttons):

‚óã Fornecedor

Dropdown: selecionar fornecedor cadastrado


‚óã Outro (especificar)

Input text: "Descrever origem"




**Local de Destino *** (tree select)

Hierarquia completa de locais
Valida se local aceita categoria do produto



Se SA√çDA:

**Local de Origem *** (tree select ou autocomplete)

Filtra por locais que t√™m este produto/lote
Mostra qtd dispon√≠vel em cada local


**Destino *** (radio buttons):

‚óã Cliente

Input text: "Nome do cliente"


‚óã Uso Interno

Dropdown: Departamento/√Årea


‚óã Outro (especificar)

Input text





Se TRANSFER√äNCIA:

**Local de Origem *** (tree select)

Filtra por locais que t√™m este produto/lote
Mostra qtd dispon√≠vel


**Local de Destino *** (tree select)

N√£o pode ser igual √† origem (valida√ß√£o)
Valida condi√ß√µes de armazenagem (temperatura, etc.)
Alerta se produto requer condi√ß√µes que destino n√£o tem



Se AJUSTE+ ou AJUSTE-:

**Local *** (tree select)

Local afetado pelo ajuste
Se AJUSTE-: mostra qtd atual dispon√≠vel



Se DESCARTE:

**Local de Origem *** (tree select)

Local onde est√° o produto a descartar


Destino: Descarte (fixo)

Se DEVOLU√á√ÉO:

**Local de Origem *** (tree select)
**Fornecedor Destino *** (dropdown)

Preferencialmente o fornecedor original (sugere)



Card: Motivo e Justificativa
Campos:

**Motivo *** (dropdown - op√ß√µes variam conforme tipo)

Se ENTRADA:

Compra Direta (sem PO)
Doa√ß√£o
Produ√ß√£o Interna
Transfer√™ncia de Outra Unidade
Devolu√ß√£o de Cliente
Outro


Se SA√çDA:

Venda Direta
Uso Interno/Consumo
Amostra Gr√°tis
Bonifica√ß√£o
Transfer√™ncia para Outra Unidade
Outro


Se AJUSTE:

Invent√°rio (sobra/falta)
Corre√ß√£o de Erro de Lan√ßamento
Perda/Quebra
Roubo/Furto
Vencimento
Avaria/Dano
Outro


Se DESCARTE:

Vencimento
Avaria/Contamina√ß√£o
Recall
Qualidade Comprometida
Regulat√≥rio
Outro


Se TRANSFER√äNCIA:

Reposi√ß√£o
Reorganiza√ß√£o
Otimiza√ß√£o de Espa√ßo
Consolida√ß√£o
Outro


Se DEVOLU√á√ÉO:

N√£o Conformidade
Recall
Acordo Comercial
Produto Errado
Outro




**Justificativa Detalhada *** (textarea grande)

Placeholder: "Descreva em detalhes o motivo desta movimenta√ß√£o..."
Valida√ß√£o:

Obrigat√≥rio
M√≠nimo: 20 caracteres
Recomendado: ser espec√≠fico e claro


Contador de caracteres
Helper: "Esta informa√ß√£o ser√° auditada. Seja claro e preciso."


Documento de Refer√™ncia (opcional)

Input text
Placeholder: "Ex: NF 12345, Email, Ordem Interna, etc."
Upload de documento (opcional)


Observa√ß√µes Adicionais (textarea)

Opcional
Placeholder: "Informa√ß√µes complementares..."



Card: Valores (opcional mas recomendado)
Campos:

Valor Unit√°rio (input number decimal)

Placeholder: "R$ 0,00"
Formata√ß√£o monet√°ria
Opcional para AJUSTES
Obrigat√≥rio para ENTRADA


Valor Total (calculado)

Qtd √ó Valor Unit√°rio
Read-only
Formatado: R$ [valor]



Card: Aprova√ß√£o (se necess√°rio)
Condicional - aparece se:

Ajuste > valor limite (ex: R$ 1.000)
Descarte
Devolu√ß√£o
Sa√≠da sem documento

Campos:

Requer Aprova√ß√£o de: (dropdown)

Lista de aprovadores (gerentes/diretores)
Multi-select se m√∫ltiplas aprova√ß√µes


Enviar para Aprova√ß√£o: (checkbox)

Envia notifica√ß√£o imediata


Status: "Aguardando Aprova√ß√£o" (badge)

Card: Anexos

Upload m√∫ltiplo:

Fotos (se avaria/descarte)
Documentos (NF, emails, aprova√ß√µes)
Laudos (se descarte)
Outros


Recomendado para: Ajustes, Descartes, Devolu√ß√µes

Valida√ß√µes Globais:

Tipo obrigat√≥rio
Produto obrigat√≥rio
Quantidade obrigat√≥ria e > 0
Se produto tem controle: Lote e Validade obrigat√≥rios
Origem/Destino conforme tipo
Motivo obrigat√≥rio
Justificativa com m√≠nimo 20 caracteres
Se SA√çDA/AJUSTE-: qtd ‚â§ dispon√≠vel
Se TRANSFER√äNCIA: origem ‚â† destino
Se DESCARTE: anexo de foto/laudo recomendado

Bot√µes:
Cancelar:

Confirma√ß√£o se houver dados preenchidos
Volta para lista

Salvar Rascunho:

Salva sem executar
Status = rascunho
Permite retomar depois
Toast: "Rascunho salvo"

Registrar Movimenta√ß√£o:

Valida√ß√£o completa
Se requer aprova√ß√£o:

Modal: "Esta movimenta√ß√£o requer aprova√ß√£o"
Lista aprovadores
Checkbox: "Confirmo que as informa√ß√µes est√£o corretas"
Bot√£o: "Enviar para Aprova√ß√£o"
A√ß√µes:

Salva com status = aguardando_aprovacao
Notifica aprovadores
Toast: "Enviado para aprova√ß√£o de [Nome]"
Redireciona para lista (mostra status pendente)




Se n√£o requer aprova√ß√£o:

Modal de confirma√ß√£o:

"Confirmar Movimenta√ß√£o?"
Resumo: Tipo | Produto | Qtd | Lote | De > Para | Motivo
Alerta (se cr√≠tico): "Esta a√ß√£o afetar√° o estoque imediatamente"
Checkbox: "Confirmo que revisei todos os dados" *
Bot√£o: "Confirmar"


Ao confirmar:

POST /api/movimentacoes/manual
Cria registro de Movimentacao
Se ENTRADA/AJUSTE+:

Cria ou atualiza LoteEstoque
Adiciona quantidade


Se SA√çDA/AJUSTE-:

Diminui quantidade do LoteEstoque
Se qtd=0: remove ou marca como vazio


Se TRANSFER√äNCIA:

Diminui qtd do local origem
Aumenta qtd do local destino
Mant√©m mesmo lote/validade


Se DESCARTE:

Remove quantidade
Registra em log de descartes
Gera laudo (se configurado)


Se DEVOLU√á√ÉO:

Remove quantidade
Cria registro de devolu√ß√£o ao fornecedor
Impacta scorecard (leve)


Registra log de auditoria detalhado
Atualiza saldos em tempo real
Gera comprovante de movimenta√ß√£o (PDF)
Toast: "Movimenta√ß√£o registrada! C√≥digo: MOV-[n√∫mero]"
Redireciona:

"Ver Comprovante" (PDF)
"Imprimir Etiqueta" (se entrada com novo lote)
"Nova Movimenta√ß√£o" | "Voltar √† Lista"








TELA 33: TRANSFER√äNCIA ENTRE LOCAIS
Rota: /estoque/transferencias
Acesso: Sidebar ‚Üí Estoque ‚Üí Transfer√™ncias
Estrutura:
Cabe√ßalho:

T√≠tulo: "Transfer√™ncias de Estoque"
Subt√≠tulo: "Movimenta√ß√£o de produtos entre locais"
Bot√£o: "+ Nova Transfer√™ncia"

Filtros:

Date Range: per√≠odo
Produto: autocomplete
Lote: input text
Local Origem: tree select
Local Destino: tree select
Status: Todos | Pendente | Em Tr√¢nsito | Conclu√≠da | Cancelada
Usu√°rio Solicitante
Bot√µes: Limpar | Exportar

Cards de KPIs:

Transfer√™ncias Pendentes ([X])
Em Tr√¢nsito ([Y])
Conclu√≠das Hoje ([Z])
Valor em Tr√¢nsito (R$)

Tabela:

Colunas:

C√≥digo (TRANS-[n√∫mero])
Data/Hora Solicita√ß√£o
Produto (SKU + Descri√ß√£o)
Lote
Qtd
De (Local Origem)
Para (Local Destino)
Solicitante
Status (badge: Pendente | Em Tr√¢nsito | Conclu√≠da | Cancelada)
A√ß√µes (Ver | Confirmar Recebimento | Cancelar)


Ordena√ß√£o, pagina√ß√£o
Linha destaca: pendentes h√° > 24h em amarelo

Modal: Nova Transfer√™ncia
Op√ß√£o 1: Transfer√™ncia Simples (1 produto)
Campos:

Produto * (autocomplete)
Lote * (dropdown dos lotes dispon√≠veis deste produto)

Mostra: Lote | Validade | Qtd Dispon√≠vel | Local Atual


Quantidade * (input number)

Valida√ß√£o: ‚â§ dispon√≠vel no lote
Sufixo: [unidade]


Local Origem * (tree select)

Pr√©-preenche com local do lote (edit√°vel)


Local Destino * (tree select)

Valida√ß√£o: ‚â† origem
Alerta se condi√ß√µes incompat√≠veis


Motivo * (dropdown):

Reposi√ß√£o
Reorganiza√ß√£o
Otimiza√ß√£o
Consolida√ß√£o
Pedido Interno
Outro


Observa√ß√µes (textarea)
Prioridade (radio): Normal | Alta | Urgente

Op√ß√£o 2: Transfer√™ncia em Lote (m√∫ltiplos produtos)

Tabela para adicionar m√∫ltiplos itens
Colunas: Produto | Lote | Qtd | De | Para | Remover
Bot√£o: "+ Adicionar Item"
Todos os itens compartilham:

Motivo
Observa√ß√µes
Prioridade



Bot√µes:

Salvar Rascunho
Solicitar Transfer√™ncia

Valida tudo
Cria registro com status=pendente
Notifica respons√°vel do local origem
Toast: "Transfer√™ncia solicitada! C√≥digo: TRANS-[n√∫mero]"



Modal: Confirmar Recebimento de Transfer√™ncia
Acesso: Bot√£o "Confirmar Recebimento" na lista (s√≥ aparece se status=em_transito)
Campos:

Transfer√™ncia: TRANS-[n√∫mero] (read-only)
Produto, Lote, Qtd Esperada (read-only)
Local Destino (read-only)
Qtd Recebida * (input number)

Default: qtd esperada
Permite diverg√™ncia (registra)


Condi√ß√µes do Recebimento (radio):

‚óè Conforme (sem avarias)
‚óã Com Avarias Leves
‚óã Com Avarias Graves


Se avarias: Textarea "Descrever avarias"
Upload de fotos (opcional)
Observa√ß√µes do Recebimento

Bot√µes:

Confirmar Recebimento

Valida
Atualiza estoque:

Diminui origem
Aumenta destino


Status = conclu√≠da
Registra data/hora real
Se diverg√™ncia: registra NC leve
Toast: "Transfer√™ncia conclu√≠da!"